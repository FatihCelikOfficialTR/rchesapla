!function(a,b,c,d){"use strict";function e(a,b){var c=[];return(a||[]).forEach(function(a){b&&b.hasOwnProperty(a)?c.push(b[a]):c.push(l.param(a))}),c}var f={},g={},h=a.fronterConfig||{},i={},j={},k=0,l={bind:function(a,b,d){return i[a]||(i[a]=[]),i[a].push({dependencies:b,callback:d||c.noop,index:k}),k++,l},param:function(a,b){return"undefined"==typeof b?f[a]?f[a]:(g[a]&&(f[a]=g[a].serviceFn.apply(l,e(g[a].dependencies))),j[a]&&(f[a]=j[a].create),f[a]):(f[a]=b,l)},service:function(a,b,c){if(g[a]&&arguments.length>1)throw new Error('service "'+a+'" already exists');return g[a]||(g[a]={dependencies:b,serviceFn:c}),l},component:function(a,b,d){if(j[a])return j[a];b=b||{};var f={view:b.view||function(){return c("<div />").addClass(a)},dependencies:b.dependencies||[],bind:b.bind||c.noop,controller:d};return j[a]={view:function(a){return f.view=a,this},dependencies:function(a){return f.dependencies=a,this},bind:function(a){return f.bind=a,this},controller:function(a){return f.controller=a,this},create:function(a){return new function(a){var b=e(f.dependencies,{local:{}});this.args=a,this.$el=f.view.apply(this,[c].concat(b)),f.controller&&(this.prototype=f.controller.prototype,f.controller.apply(this,b)),f.bind.apply(this,[this.$el].concat(b))}(a)}}},$apply:function(){return c.each(i,function(a,b){c(a).each(function(){var a=c(this),d=a.data("elBindings")||[];b.forEach(function(b){d.indexOf(b.index)===-1&&b.callback.apply(a,[a].concat(e(b.dependencies))),d.push(b.index)}),a.data("elBindings",d)})}),l},each:c.each,extend:c.extend};l.param("window",a).param("document",b).param("$",c).param("$window",c(a)).param("$document",c(b)).param("$body",c("body")).param("$html",c("html")).param("$ajax",c.ajax),h.testMode&&c.extend(l,(h.testRunner||c.noop)(f)),a.fronter=l}(window,document,window.jQuery);